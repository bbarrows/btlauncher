<!--
    Auto-generated test-site
-->
<html>
<head>
<title>test page for btlauncher plugin </title>
</head>
<script type="text/javascript">

if (! window.console) {
  window.console = { log: function() {} };
}
var WINDOW_HASH = '4823';

  function getelt(id) {
    return document.getElementById(id);
  }
        function plugin0()
        {
            return document.getElementById('plugin0');
        }
        plugin = plugin0;


        function pluginLoaded() {
          console.log('plugin loaded');
          getelt('loaded').innerHTML = 'plugin loaded ok, v:' + plugin().version;

getelt('checkupdate_div').setAttribute('style','display:block');

          getelt('checkupdate').onclick = function(evt) {
  plugin().checkForUpdate( function(a,b,c,d) {
   getelt('checkupdate_response').innerHTML = a+' '+b+' '+c+' '+d;
  });
}

          populatestuff('uTorrent');
          populatestuff('BitTorrent');
          populatestuff('BTLive');
        }



function populatestuff(program) {
 getelt(program + '_installPath').innerHTML = plugin().getInstallPath(program);


 if (program == 'uTorrent') {
   var window_name = 'Torrent' + WINDOW_HASH;
 } else if (program == 'BitTorrent') {
   var window_name = 'BT' + WINDOW_HASH;
 } else {
   var window_name = program;
 }

 var isrunning = plugin().isRunning(window_name);

 var ver = plugin().getInstallVersion(program);
 if (ver) {
   getelt(program + '_version').innerHTML = ver;
 }

 getelt(program + '_isRunning').innerHTML = isrunning;

 if (! isrunning || ! isrunning.length) {
   getelt(program + '_run').disabled = null;
   getelt(program + '_install').disabled = null;
 } else {
   getelt(program + '_stop').disabled = null;
   getelt(program + '_stop').onclick = function(evt) {
     stop(isrunning);
   }
 }


 
}

function run(program) {
  plugin().runProgram(program, function() {});
}


function stop(program) {
  var result = plugin().stopRunning(program[0]);
  console.log('stop '+program+'with result' + result);
}

function install(program) {

  plugin().downloadProgram(program, getelt(program+'_verstring').value, function(a,b,c) { getelt(program + '_installresult').innerHTML = (a + ' ' + b + ' ' + c); } );


}

    </script>
<body>
<div> the plugin --&gt;
    <object id="plugin0" type="application/x-btlauncher" width="400" height="400">
      <param name="onload" value="pluginLoaded" />
    </object>
</div>
<br />

<div id="checkupdate_div" style="display:none">
<a id="checkupdate" href="#">check for update</a>
<span id="checkupdate_response"></span>
</div>

<br />
plugin loaded: 
<span id="loaded">not yet

<a href="btlauncher.msi">install it</a>
</span>


<fieldset>
<legend>uTorrent</legend>

<br />
install path: 
<span id="uTorrent_installPath" style="background:#ccf">---
</span>

<br />
version: 
<span id="uTorrent_version" style="background:#ccf">---
</span>


<br />
is running: 
<span id="uTorrent_isRunning" style="background:#ccf">---
</span>

<br />
run it
<input onclick="run('uTorrent')" type="button" value="run!" id="uTorrent_run" disabled="disabled" />

<br />
stop it
<input type="button" value="stop!" id="uTorrent_stop" disabled="disabled" />

<br />
download/install/run in boss mode
<input onclick="install('uTorrent')" type="button" value="secret install!" id="uTorrent_install" disabled="disabled" />
<input type="text" id="uTorrent_verstring" value="3.1" />
<span id="uTorrent_installresult" style="background:#ccf"></span>


</fieldset>

<fieldset>
<legend>BitTorrent</legend>



<br />
install path: 
<span id="BitTorrent_installPath" style="background:#ccf">---
</span>

<br />
version: 
<span id="BitTorrent_version" style="background:#ccf">---
</span>

<br />
is running: 
<span id="BitTorrent_isRunning" style="background:#ccf">---
</span>

<br />
run it
<input onclick="run('BitTorrent')" type="button" value="run!" id="BitTorrent_run" disabled="disabled" />

<br />
stop it
<input type="button" value="stop!" id="BitTorrent_stop" disabled="disabled" />

<br />
download/install/run in boss mode
<input onclick="install('BitTorrent')" type="button" value="secret install!" id="BitTorrent_install" disabled="disabled" />
<span id="BitTorrent_installresult" style="background:#ccf"></span>

</fieldset>




<fieldset>
<legend>Live</legend>

<br />
install path: 
<span id="BTLive_installPath" style="background:#ccf">---
</span>

<br />
version: 
<span id="BTLive_version" style="background:#ccf">---
</span>

<br />
is running: 
<span id="BTLive_isRunning" style="background:#ccf">---
</span>

<br />
run it
<input onclick="run('BTLive')" type="button" value="run!" id="BTLive_run" disabled="disabled" />

<br />
stop it
<input type="button" value="stop!" id="BTLive_stop" disabled="disabled" />

<br />
download/install/run in boss mode
<input onclick="install('BTLive')" type="button" value="secret install!" id="BTLive_install" disabled="disabled" />
<span id="BTLive_installresult" style="background:#ccf"></span>
<input type="text" id="BTLive_verstring" value="3.1" />
</fieldset>

</body>
</html>
